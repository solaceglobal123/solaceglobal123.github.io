<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donation Page</title>
    <!-- Add Google Fonts link -->
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Manrope', 'Roboto';
            background-color: #f2f2f2;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin-top: 20px;
        }

        h1 {
            text-align: center;
            color: #333;
        }

        .total-donation {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .total-donation label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #000000;
        }

        .total-donation input[type="number"] {
            width: calc(50% - 10px);
            padding: 8px;
            margin-right: 10px;
            border: 3px solid #000000;
            border-radius: 3px;
            font-size: 15px;
        }

        .category {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .category h2 {
            font-size: 1.2em;
            margin-bottom: 10px;
            color: #555;
        }

        .cause {
            margin-bottom: 10px;
        }

        .cause label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #666;
        }

        .cause input[type="number"] {
            width: calc(50% - 10px);
            padding: 8px;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 14px;
        }

        .donate-button {
            display: block;
            width: 100%;
            padding: 12px;
            background-color: #FF0000;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            font-size: 16px;
        }

        .donate-button:hover {
            background-color: #b51717;
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
        }

        .next-button, .prev-button {
            padding: 8px 15px;
            margin-top: 10px;
            background-color: #FF0000;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .prev-button {
            background-color: #FF0000;
        }

        .summary {
            white-space: pre-wrap;
            background: FF0000;
            padding: 10px;
            border-radius: 5px;
        }
        
    

.logo-container {
    text-align: center;
    margin-top: 20px;
}

.logo-container img {
    width: 150px; /* Adjust the width as needed */
    border-radius: 50%;
    cursor: pointer;
}

    </style>
</head>
<body>
    <div class="container">
        <div class="logo-container">
            <a href="http:solaceglobal.xyz">
                <img src="https://drive.google.com/file/d/1n2a3ww3pT5T7JuuJTVg1NfjzdKsIvnSa/view?usp=sharing" alt="Logo" />
            </a>
        </div>

        <h1>Donate to Your Preferred Causes</h1>
        <div class="total-donation">
            <label for="totalDonation">Total Donation Amount:</label>
            <input type="number" id="totalDonation" placeholder="Enter total amount" step="0.01">
        </div>
        <form id="donationForm">
            <div class="step active">
                <h2>Select Categories</h2>
                <div>
                    <input type="checkbox" id="checkbox-medical" checked>
                    <label for="checkbox-medical">Medical Causes</label>
                </div>
                <div>
                    <input type="checkbox" id="checkbox-globalconflict" checked>
                    <label for="checkbox-globalconflict">Global Conflict Causes</label>
                </div>
                <div>
                    <input type="checkbox" id="checkbox-learning" checked>
                    <label for="checkbox-learning">Learning Causes</label>
                </div>
                <button type="button" class="next-button" onclick="if(validateStep()) nextStep()">Next</button>
            </div>
            <div class="step">
                <div class="category medical">
                    <h2>Medical Causes</h2>
                    <div class="cause">
                        <label for="medicalPercentage">Cancer:</label>
                        <input type="number" id="medicalPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="medicalMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="medicalPercentage">Malaria:</label>
                        <input type="number" id="medicalPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="medicalMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="breastCancerPercentage">Cardiovascular:</label>
                        <input type="number" id="breastCancerPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="breastCancerMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="cardiovascularPercentage">Respiratory:</label>
                        <input type="number" id="cardiovascularPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="cardiovascularMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <a href="https://docs.google.com/document/d/1AzgT0JD8dfPZLHJ7VQGHHxXcjcS1SmtCAlqZ2w3Gs08/edit" target="_blank">See where your money goes</a>

                </div>
                <button type="button" class="prev-button" onclick="prevStep()">Previous</button>
                <button type="button" class="next-button" onclick="if(validateStep()) nextStep()">Next</button>
            </div>
            <div class="step">
                <div class="category globalconflict">
                    <h2>Global Conflict Causes</h2>
                    <div class="cause">
                        <label for="palestinePercentage">European Conflict:</label>
                        <input type="number" id="palestinePercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="palestineMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="palestinePercentage">Asian Conflict:</label>
                        <input type="number" id="palestinePercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="palestineMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="palestinePercentage">African Conflict:</label>
                        <input type="number" id="palestinePercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="palestineMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="congoPercentage">South American Conflict:</label>
                        <input type="number" id="congoPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="congoMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="otherWarPercentage">Other War Affected Areas Percentage:</label>
                        <input type="number" id="otherWarPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="otherWarMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <a href="https://docs.google.com/document/d/1gK89cG2xfpi9VBmJttKm7kkGb_bRsEgBARQNmCRKXLY/edit" target="_blank">See where your money goes</a>

                </div>
                <button type="button" class="prev-button" onclick="prevStep()">Previous</button>
                <button type="button" class="next-button" onclick="if(validateStep()) nextStep()">Next</button>
            </div>
            <div class="step">
                <div class="category learning">
                    <h2>Learning Causes</h2>
                    <div class="cause">
                        <label for="roboticsPercentage">Europe:</label>
                        <input type="number" id="roboticsPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="roboticsMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="roboticsPercentage">Asia:</label>
                        <input type="number" id="roboticsPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="roboticsMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="roboticsPercentage">North America:</label>
                        <input type="number" id="roboticsPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="roboticsMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="roboticsPercentage">South American:</label>
                        <input type="number" id="roboticsPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="roboticsMoney" class="amount-input" placeholder="Calculated amount">
                    </div>

                    <div class="cause">
                        <label for="sportsPercentage">Australia:</label>
                        <input type="number" id="sportsPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="sportsMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <div class="cause">
                        <label for="codingPercentage">Africa:</label>
                        <input type="number" id="codingPercentage" class="percentage-input" placeholder="Enter percentage">
                        <input type="number" id="codingMoney" class="amount-input" placeholder="Calculated amount">
                    </div>
                    <a href="https://docs.google.com/document/d/1rNpa8fUWVbZfE1xU2V_YhHwve7zfrilgEAkn42eEY48/edit" target="_blank">See where your money goes</a>

                </div>
                <button type="button" class="prev-button" onclick="prevStep()">Previous</button>
                <button type="button" class="next-button" onclick="if(validateStep()) nextStep()">Next</button>
            </div>
            <div class="step">
                <h2>Donation Summary</h2>
                <div id="summary" class="summary"></div>
                <button type="button" class="prev-button" onclick="prevStep()">Previous</button>
                <button type="button" class="donate-button" onclick="generateDonationLink(event)">Donate</button>
            </div>
        </form>
    </div>

    <script>
        let currentStep = 0;
    
        function showStep(step) {
            const steps = document.getElementsByClassName("step");
            for (let i = 0; i < steps.length; i++) {
                steps[i].classList.remove("active");
            }
            steps[step].classList.add("active");
        }
    
        function nextStep() {
            const steps = document.getElementsByClassName("step");
            if (currentStep < steps.length - 1) {
                currentStep++;
                showStep(currentStep);
            }
        }
    
        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        }
    
        function generateSummary() {
            const totalDonation = parseFloat(document.getElementById('totalDonation').value) || 0;
            let summary = `Total Donation: $${totalDonation.toFixed(2)}\n\n`;
    
            const categories = ['medical', 'globalconflict', 'learning'];
    
            categories.forEach(category => {
                if (!document.getElementById(`checkbox-${category}`).checked) return;
    
                const categoryDiv = document.querySelector(`.${category}`);
                const causes = categoryDiv.querySelectorAll('.cause');
                summary += `${categoryDiv.querySelector('h2').innerText}\n`;
    
                causes.forEach(cause => {
                    const label = cause.querySelector('label').innerText;
                    const percentage = parseFloat(cause.querySelector('.percentage-input').value) || 0;
                    const amount = parseFloat(cause.querySelector('.amount-input').value) || 0;
                    summary += ` - ${label}: ${percentage}% ($${amount.toFixed(2)})\n`;
                });
    
                summary += '\n';
            });
    
            document.getElementById('summary').innerText = summary;
            return summary; // Return the generated summary text
        }
    
        function validateStep() {
            // Add any validation logic here if needed
            calculateDonationAmounts();
            generateSummary();
            return true;
        }
    
        function updateSelectedCategories() {
            const categories = ['medical', 'globalconflict', 'learning'];
            categories.forEach(category => {
                const categoryDiv = document.querySelector(`.${category}`);
                if (document.getElementById(`checkbox-${category}`).checked) {
                    categoryDiv.style.display = 'block';
                } else {
                    categoryDiv.style.display = 'none';
                }
            });
        }
    
        document.addEventListener('DOMContentLoaded', function() {
            showStep(currentStep);
    
            document.getElementById('totalDonation').addEventListener('input', calculateDonationAmounts);
    
            const percentageInputs = document.querySelectorAll('.category .percentage-input');
            percentageInputs.forEach(input => {
                input.addEventListener('input', calculateDonationAmounts);
            });
    
            const amountInputs = document.querySelectorAll('.category .amount-input');
            amountInputs.forEach(input => {
                input.addEventListener('input', calculatePercentageFromAmount);
            });
    
            const categoryCheckboxes = document.querySelectorAll('input[type="checkbox"]');
            categoryCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateSelectedCategories);
            });
        });
    
        function generateDonationLink(event) {
            event.preventDefault();
            const totalDonation = document.getElementById('totalDonation').value;
            const message = generateSummary(); // Use the generated summary as the message
            const multipliedAmount = totalDonation * 100; // Multiply donation amount by 100
    
            // Constructing the donation link with prefilled values
            const baseUrl = 'https://hcb.hackclub.com/donations/start/';
            const amount = multipliedAmount.toFixed(2); // Format the amount to two decimal places
            const category = 'solace-global'; // Replace with your category or use a dynamic value
            const encodedMessage = encodeURIComponent(message);
            const donationLink = `${baseUrl}${category}?message=${encodedMessage}&amount=${amount}`;
    
            window.location.href = donationLink;
        }
    
        function calculateDonationAmounts() {
            const totalDonation = parseFloat(document.getElementById('totalDonation').value) || 0;
            let totalPercentUsed = 0;
    
            // Medical
            const medicalInputs = document.querySelectorAll('.category.medical .cause');
            medicalInputs.forEach(input => {
                const percentage = parseFloat(input.querySelector('.percentage-input').value) || 0;
                input.querySelector('.amount-input').value = (totalDonation * percentage / 100).toFixed(2);
                totalPercentUsed += percentage;
            });
    
            // globalconflict
            const globalconflictInputs = document.querySelectorAll('.category.globalconflict .cause');
            globalconflictInputs.forEach(input => {
                const percentage = parseFloat(input.querySelector('.percentage-input').value) || 0;
                input.querySelector('.amount-input').value = (totalDonation * percentage / 100).toFixed(2);
                totalPercentUsed += percentage;
            });
    
            // Learning
            const learningInputs = document.querySelectorAll('.category.learning .cause');
            learningInputs.forEach(input => {
                const percentage = parseFloat(input.querySelector('.percentage-input').value) || 0;
                input.querySelector('.amount-input').value = (totalDonation * percentage / 100).toFixed(2);
                totalPercentUsed += percentage;
            });
    
            if (totalPercentUsed > 100) {
                alert("The total percentage cannot exceed 100%. This page has been refreshed");
                location.reload()
                return false;
            }
        }
    
        function calculatePercentageFromAmount(event) {
            const parentCause = event.target.parentElement;
            const totalDonation = parseFloat(document.getElementById('totalDonation').value) || 0;
            const percentageInput = parentCause.querySelector('.percentage-input');
            const amountInput = parentCause.querySelector('.amount-input');
            const amount = parseFloat(amountInput.value) || 0;
    
            if (totalDonation !== 0) {
                const percentage = (amount / totalDonation) * 100;
                percentageInput.value = percentage.toFixed(2);
            } else {
                percentageInput.value = 0;
            }
        }
    </script>
    </body>
</html>
